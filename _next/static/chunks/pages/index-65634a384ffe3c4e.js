(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3678)}])},3678:function(e,t,a){"use strict";a.r(t);var n=a(5893),l=(a(9008),a(7294)),c=a(4298),s=a.n(c);t.default=function(){var e=(0,l.useState)(0),t=e[0],a=e[1];return(0,l.useEffect)((function(){if(console.log("init"),"undefined"!==typeof document){var e=localStorage.getItem("chat-name");document.getElementById("chat_name").value=e,ws_connect("good_button2","text_button","chat_name","chat_content",(function(e){var t=JSON.parse(e.data);if(a(t.watching),console.log(t),"master"===t.type){if("delete"===t.name&&"message"===t.action){var n=t.content;document.getElementById("com_"+n).remove(),(o=document.getElementById("history")).scrollTop=o.scrollHeight}}else if("connection"==t.type&&"connect"==t.action&&"server"==t.name)for(var l=0;l<t.content.length-1;l++){var c=JSON.parse(t.content[l]);if("chat"==c.type&&"message"==c.action){var s=document.createElement("div");"LSD_admin"===c.name?(c.name="LSD",s.className="chat-item chat-lsd"):s.className="chat-item",(i=document.createElement("div")).className="chat-name",i.innerHTML=c.name,(d=document.createElement("div")).className="chat-time",d.innerHTML=c.time,(m=document.createElement("div")).className="chat-content",m.innerHTML=c.content,s.appendChild(i),s.appendChild(d),s.appendChild(m),s.id="com_"+String(c.id),(o=document.getElementById("history")).appendChild(s),o.scrollTop=o.scrollHeight}}else if("connection"==t.type&&"disconnect"==t.action)console.log("disconnect someone");else if("message"==t.action&&"chat"==t.type){var i,d,m,o;s=document.createElement("div");"LSD_admin"===t.name?(t.name="LSD",s.className="chat-item chat-lsd"):s.className="chat-item",(i=document.createElement("div")).className="chat-name",i.innerHTML=t.name,(d=document.createElement("div")).className="chat-time",d.innerHTML=t.time,(m=document.createElement("div")).className="chat-content",m.innerHTML=t.content,s.appendChild(i),s.appendChild(d),s.appendChild(m),s.id="com_"+String(t.id),(o=document.getElementById("history")).appendChild(s),o.scrollTop=o.scrollHeight}else if("react"==t.action&&"chat"==t.type){var r=document.getElementById("display_iframe");console.log(r.clientWidth,r.clientHeight,e.data);var h=document.createElement("span"),x=document.createElement("div");"heart"===t.content&&(x.innerHTML="\u2764"),h.appendChild(x);var u=document.createElement("div");u.innerHTML=t.name,u.className="chat-react-name",h.appendChild(u),h.className="display_item",h.style.left=r.clientWidth*Math.random()+"px",r.appendChild(h),setTimeout((function(){h.remove()}),1300),console.log(e.data)}}),(function(){var e=document.createElement("div");e.className="chat-item";var t=document.createElement("div");t.className="chat-content text-red-600",t.innerHTML="\u63a5\u7d9a\u304c\u5207\u308c\u307e\u3057\u305f\u3002\u518d\u8aad\u8fbc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",e.appendChild(t);var a=document.getElementById("history");a.appendChild(e),a.scrollTop=a.scrollHeight}))}}),[]),(0,n.jsxs)("div",{className:"font-mono h-screen",children:[(0,n.jsx)(s(),{src:"./ws.js",strategy:"beforeInteractive"}),(0,n.jsx)("div",{className:"bg-white h-[10vh]",children:(0,n.jsxs)("div",{className:"relative mx-12 h-full",children:[(0,n.jsx)("img",{src:"lsd_logo.jpg",className:"h-full pr-12 py-2 inline-block"}),(0,n.jsx)("div",{className:"inline-block text-3xl align-middle",children:"LSD \u5352\u30b3\u30f3"})]})}),(0,n.jsxs)("div",{id:"main",className:"xl:flex flex-col xl:flex-row p-2 pt-6 xl:p-8 h-[80vh]",children:[(0,n.jsxs)("div",{className:"basis-3/4",children:[(0,n.jsx)("div",{id:"display_iframe_wrap",className:"relative overflow-hidden mx-auto",children:(0,n.jsx)("div",{id:"display_iframe",className:"xl:w-[97%] mx-auto",children:(0,n.jsx)("iframe",{src:"hls.html",className:"w-full aspect-video mx-auto"})})}),(0,n.jsx)("div",{id:"detail",children:(0,n.jsxs)("div",{className:"my-4 mx-6",children:[(0,n.jsxs)("div",{className:"my-1 text-xl",children:["\u8996\u8074\u4e2d\uff1a",t,"\u4eba"]}),(0,n.jsxs)("div",{className:"my-1",children:["\u5168\u753b\u9762\u8996\u8074\u306f",(0,n.jsx)("a",{className:"text-blue-600 hover:border-b cursor-pointer",href:"/hls.html",children:"\u3053\u3061\u3089"}),"\u304b\u3089"]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"text-red-600 text-md",children:"\u6ce8\u610f "}),(0,n.jsxs)("div",{children:["\u30fbsafari\u4e0d\u53ef",(0,n.jsx)("br",{}),"\u30fb\u6620\u50cf\u304c\u305a\u308c\u308b\u6642\u306f\u4f55\u56de\u304b\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044"]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{className:"",href:"https://github.com/hagerondev/LSD-Stream",children:(0,n.jsx)("div",{className:"text-sm text-blue-600",children:"\u3053\u306e\u914d\u4fe1\u306e\u88cf\u5074"})})})]})})]}),(0,n.jsx)("div",{id:"right",className:"basis-1/4 mx-auto w-[97%]",children:(0,n.jsxs)("div",{id:"chat",className:"bg-white xl:mr-10 h-full rounded-lg border flex flex-col",children:[(0,n.jsx)("h1",{className:"p-4 text-2xl font-bold",children:"\u30b3\u30e1\u30f3\u30c8"}),(0,n.jsx)("div",{id:"history",className:"bg-[#f9f9f9] overflow-scroll flex-1 max-h-80 xl:max-h-full"}),(0,n.jsxs)("div",{className:"bg-white basis-1/5 p-4",children:[(0,n.jsx)("input",{placeholder:"name",type:"text",className:"border-b text-lg w-full",id:"chat_name"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{placeholder:"\u6700\u9ad8\uff01",type:"text",className:"border-b text-xl my-3 w-full",id:"chat_content"}),(0,n.jsxs)("div",{id:"chat-buttons",children:[(0,n.jsx)("button",{className:" border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"text_button",children:"\u9001\u4fe1"}),(0,n.jsx)("button",{className:"text-red-600 border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"good_button2",children:"\u2764"})]})]})]})})]})]})}},9008:function(e,t,a){a(5443)},4298:function(e,t,a){e.exports=a(699)}},function(e){e.O(0,[774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);