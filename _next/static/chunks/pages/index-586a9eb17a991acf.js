(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3678)}])},3678:function(e,t,n){"use strict";n.r(t);var a=n(5893),l=(n(9008),n(7294)),c=n(4298);t.default=function(){var e=(0,l.useState)(0),t=e[0],n=e[1];return(0,l.useEffect)((function(){if(console.log("init"),"undefined"!==typeof document){var e=localStorage.getItem("chat-name");document.getElementById("chat_name").value=e,ws_connect("good_button2","text_button","chat_name","chat_content",(function(e){var t=JSON.parse(e.data);if(n(t.watching),console.log(t),"master"===t.type){if("delete"===t.name&&"message"===t.action){var a=t.content;document.getElementById("com_"+a).remove(),(r=document.getElementById("history")).scrollTop=r.scrollHeight}}else if("connection"==t.type&&"connect"==t.action&&"server"==t.name)for(var l=0;l<t.content.length-1;l++){var c=JSON.parse(t.content[l]);if("chat"==c.type&&"message"==c.action)(i=document.createElement("div")).className="chat-item",(s=document.createElement("div")).className="chat-name",s.innerHTML=c.name,(d=document.createElement("div")).className="chat-time",d.innerHTML=c.time,(o=document.createElement("div")).className="chat-content",o.innerHTML=c.content,i.appendChild(s),i.appendChild(d),i.appendChild(o),i.id="com_"+String(c.id),(r=document.getElementById("history")).appendChild(i)}else if("connection"==t.type&&"disconnect"==t.action)console.log("disconnect someone");else if("message"==t.action&&"chat"==t.type){var i,s,d,o,r;(i=document.createElement("div")).className="chat-item",(s=document.createElement("div")).className="chat-name",s.innerHTML=t.name,(d=document.createElement("div")).className="chat-time",d.innerHTML=t.time,(o=document.createElement("div")).className="chat-content",o.innerHTML=t.content,i.appendChild(s),i.appendChild(d),i.appendChild(o),i.id="com_"+String(t.id),(r=document.getElementById("history")).appendChild(i),r.scrollTop=r.scrollHeight}else if("react"==t.action&&"chat"==t.type){var m=document.getElementById("display_iframe");console.log(m.clientWidth,m.clientHeight,e.data);var h=document.createElement("span"),x=document.createElement("div");"heart"===t.content&&(x.innerHTML="\u2764"),h.appendChild(x);var u=document.createElement("div");u.innerHTML=t.name,u.className="chat-react-name",h.appendChild(u),h.className="display_item",h.style.left=m.clientWidth*Math.random()+"px",m.appendChild(h),setTimeout((function(){h.remove()}),1300),console.log(e.data)}}),(function(){var e=document.createElement("div");e.className="chat-item";var t=document.createElement("div");t.className="chat-content text-red-600",t.innerHTML="\u63a5\u7d9a\u304c\u5207\u308c\u307e\u3057\u305f\u3002\u518d\u8aad\u8fbc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",e.appendChild(t);var n=document.getElementById("history");n.appendChild(e),n.scrollTop=n.scrollHeight}))}}),[]),(0,a.jsxs)("div",{className:"font-mono h-screen",children:[(0,a.jsx)(c.default,{src:"./ws.js",strategy:"beforeInteractive"}),(0,a.jsx)("div",{className:"bg-white h-[10vh]",children:(0,a.jsxs)("div",{className:"relative mx-12 h-full",children:[(0,a.jsx)("img",{src:"lsd_logo.jpg",className:"h-full pr-12 py-2 inline-block"}),(0,a.jsx)("div",{className:"inline-block text-3xl align-middle",children:"LSD \u5352\u30b3\u30f3"})]})}),(0,a.jsxs)("div",{id:"main",className:"xl:flex flex-col xl:flex-row p-2 pt-6 xl:p-8 h-[80vh]",children:[(0,a.jsxs)("div",{className:"basis-3/4",children:[(0,a.jsx)("div",{id:"display_iframe_wrap",className:"relative overflow-hidden mx-auto",children:(0,a.jsx)("div",{id:"display_iframe",className:"xl:w-[97%] mx-auto",children:(0,a.jsx)("iframe",{src:"hls.html",className:"w-full aspect-video mx-auto"})})}),(0,a.jsx)("div",{id:"detail",children:(0,a.jsxs)("div",{className:"m-8",children:[(0,a.jsxs)("div",{className:"my-2 text-xl",children:["\u8996\u8074\u4e2d\uff1a",t,"\u4eba"]}),(0,a.jsxs)("div",{className:"my-2",children:["\u5168\u753b\u9762\u8996\u8074\u306f",(0,a.jsx)("a",{className:"text-blue-600 hover:border-b cursor-pointer",href:"/hls.html",children:"\u3053\u3061\u3089"}),"\u304b\u3089"]}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"",href:"https://github.com/hagerondev/LSD-Stream",children:(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"\u3053\u306e\u914d\u4fe1\u306e\u88cf\u5074"})})})]})})]}),(0,a.jsx)("div",{id:"right",className:"basis-1/4 mx-auto w-[97%]",children:(0,a.jsxs)("div",{id:"chat",className:"bg-white xl:mr-10 h-full rounded-lg border flex flex-col",children:[(0,a.jsx)("h1",{className:"p-4 text-2xl font-bold",children:"\u30b3\u30e1\u30f3\u30c8"}),(0,a.jsx)("div",{id:"history",className:"bg-[#f9f9f9] overflow-scroll flex-1 max-h-80 xl:max-h-full"}),(0,a.jsxs)("div",{className:"bg-white basis-1/5 p-4",children:[(0,a.jsx)("input",{placeholder:"name",type:"text",className:"border-b text-lg w-full",id:"chat_name"}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{placeholder:"\u6700\u9ad8\uff01",type:"text",className:"border-b text-xl my-3 w-full",id:"chat_content"}),(0,a.jsxs)("div",{id:"chat-buttons",children:[(0,a.jsx)("button",{className:" border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"text_button",children:"\u9001\u4fe1"}),(0,a.jsx)("button",{className:"text-red-600 border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"good_button2",children:"\u2764"})]})]})]})})]})]})}},9008:function(e,t,n){n(5443)},4298:function(e,t,n){e.exports=n(699)}},function(e){e.O(0,[774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);