(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3678)}])},3678:function(e,t,a){"use strict";a.r(t);var n=a(5893),c=(a(9008),a(7294)),l=a(4298);t.default=function(){return(0,c.useEffect)((function(){if(console.log("init"),"undefined"!==typeof document){var e=localStorage.getItem("chat-name");document.getElementById("chat_name").value=e,ws_connect("good_button2","text_button","chat_name","chat_content",(function(e){var t=JSON.parse(e.data);if(console.log(t),"connection"==t.type&&"connect"==t.action&&"server"==t.name)for(var a=0;a<t.content.length-1;a++){var n=JSON.parse(t.content[a]);if("chat"==n.type&&"message"==n.action)(c=document.createElement("div")).className="chat-item",(l=document.createElement("div")).className="chat-name",l.innerHTML=n.name,(i=document.createElement("div")).className="chat-time",i.innerHTML=n.time,(s=document.createElement("div")).className="chat-content",s.innerHTML=n.content,c.appendChild(l),c.appendChild(i),c.appendChild(s),(d=document.getElementById("history")).appendChild(c),d.scrollTop=d.scrollHeight}else if("message"==t.action&&"chat"==t.type){var c,l,i,s,d;(c=document.createElement("div")).className="chat-item",(l=document.createElement("div")).className="chat-name",l.innerHTML=t.name,(i=document.createElement("div")).className="chat-time",i.innerHTML=t.time,(s=document.createElement("div")).className="chat-content",s.innerHTML=t.content,c.appendChild(l),c.appendChild(i),c.appendChild(s),(d=document.getElementById("history")).appendChild(c),d.scrollTop=d.scrollHeight}else if("react"==t.action&&"chat"==t.type){var r=document.getElementById("display_iframe");console.log(r.clientWidth,r.clientHeight,e.data);var o=document.createElement("span"),m=document.createElement("div");"heart"===t.content&&(m.innerHTML="\u2764"),o.appendChild(m);var h=document.createElement("div");h.innerHTML=t.name,h.className="chat-react-name",o.appendChild(h),o.className="display_item",o.style.left=r.clientWidth*Math.random()+"px",r.appendChild(o),setTimeout((function(){o.remove()}),1300),console.log(e.data)}}))}}),[]),(0,n.jsxs)("div",{className:"font-mono",children:[(0,n.jsx)(l.default,{src:"./ws.js",strategy:"beforeInteractive"}),(0,n.jsx)("div",{className:"bg-white",children:(0,n.jsxs)("div",{className:"relative mx-12",children:[(0,n.jsx)("img",{src:"lsd_logo.jpg",className:"h-20 pr-12 py-2 inline-block"}),(0,n.jsx)("div",{className:"inline-block text-3xl align-middle",children:"Multi-angle viewing"}),(0,n.jsx)("a",{className:"absolute right-0 top-5",href:"https://github.com/hagerondev/LSD-Stream",children:(0,n.jsx)("div",{className:"inline-block text-2xl align-middle font-bold border rounded-full border-black aspect-square w-8 text-center bg-gray-100",children:"\uff1f"})})]})}),(0,n.jsxs)("div",{id:"main",className:"flex flex-row p-8",children:[(0,n.jsxs)("div",{className:"basis-3/4",children:[(0,n.jsx)("div",{id:"display_iframe_wrap",className:"relative overflow-hidden mx-auto",children:(0,n.jsx)("div",{id:"display_iframe",className:"w-[88%] mx-auto",children:(0,n.jsx)("iframe",{src:"hls.html",className:"w-full aspect-video mx-auto"})})}),(0,n.jsx)("div",{id:"detail",children:(0,n.jsx)("div",{className:"m-8",children:(0,n.jsxs)("div",{className:"my-2",children:["\u5168\u753b\u9762\u8996\u8074\u306f",(0,n.jsx)("a",{className:"text-blue-600 hover:border-b cursor-pointer",href:"/hls.html",children:"\u3053\u3061\u3089"}),"\u304b\u3089"]})})})]}),(0,n.jsx)("div",{id:"right",className:"basis-1/4",children:(0,n.jsxs)("div",{id:"chat",className:"bg-white mr-10 h-full rounded-lg border flex flex-col",children:[(0,n.jsx)("h1",{className:"p-4 text-2xl font-bold",children:"\u30c1\u30e3\u30c3\u30c8"}),(0,n.jsx)("div",{id:"history",className:"bg-[#f9f9f9] h-[600px] overflow-scroll",children:(0,n.jsxs)("div",{className:"chat-item",children:[(0,n.jsx)("div",{className:"chat-name",children:"name"}),(0,n.jsx)("div",{className:"chat-time",children:"19:35"}),(0,n.jsx)("div",{className:"chat-content",children:"content"})]})}),(0,n.jsxs)("div",{className:"bg-white basis-1/5 p-4",children:[(0,n.jsx)("input",{placeholder:"name",type:"text",className:"border-b text-lg",id:"chat_name"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{placeholder:"\u6700\u9ad8\uff01",type:"text",className:"border-b text-xl my-3",id:"chat_content"}),(0,n.jsxs)("div",{id:"chat-buttons",children:[(0,n.jsx)("button",{className:" border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"text_button",children:"\u9001\u4fe1"}),(0,n.jsx)("button",{className:"text-red-600 border rounded-md px-8 bg-[#f9f9f9] mx-4 text-xl",id:"good_button2",children:"\u2764"})]})]})]})})]})]})}},9008:function(e,t,a){a(5443)},4298:function(e,t,a){e.exports=a(699)}},function(e){e.O(0,[774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);